<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0, shrink-to-fit=no">
    <title>Easy Pay Direct - Online Payments</title>
    <meta name="description" content="Online Payments">
    <meta name="author" content="EPD">
    <meta name="csrf-token" content="hngUDbi1XkKuhi1LeCUQGydc8k2EZa8PjpL5i4bq">
    <!-- Stylesheet
    ============================================= -->
    <link type="text/css" rel="stylesheet" href="/assets/css/vendor.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/signup.css">
    <script src="https://emap.easypaydirect.com/assets/js/tracking.js"></script>

        <meta property="og:title" content="Easy Pay Direct - Signup Today" />
<meta property="og:site_name" content="EasyPayDirect.com" />
<meta property="og:type" content="website" />
<meta property="og:locale" content="en_US" />
<meta property="og:image" content="https://emap.easypaydirect.com/assets/images/OG2.webp" />
<meta property="og:description" content="Getting started with Easy Pay Direct is easy! Simply fill out the form below to start the quick and painless application process. You'll be processing transactions online in no time!" />
<meta property="og:url" content="https://emap.easypaydirect.com/" />

    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="/assets/favico/apple-touch-icon-57x57.png" />
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/assets/favico/apple-touch-icon-114x114.png" />
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/assets/favico/apple-touch-icon-72x72.png" />
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/favico/apple-touch-icon-144x144.png" />
<link rel="apple-touch-icon-precomposed" sizes="60x60" href="/assets/favico/apple-touch-icon-60x60.png" />
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="/assets/favico/apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon-precomposed" sizes="76x76" href="/assets/favico/apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="/assets/favico/apple-touch-icon-152x152.png" />
<link rel="icon" type="image/png" href="/assets/favico/favicon-196x196.png" sizes="196x196" />
<link rel="icon" type="image/png" href="/assets/favico/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/png" href="/assets/favico/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="/assets/favico/favicon-16x16.png" sizes="16x16" />
<link rel="icon" type="image/png" href="/assets/favico/favicon-128.png" sizes="128x128" />
<meta name="application-name" content="Easy Pay Direct"/>
<meta name="msapplication-TileColor" content="#FFFFFF" />
<meta name="msapplication-TileImage" content="/assets/favico/mstile-144x144.png" />
<meta name="msapplication-square70x70logo" content="/assets/favico/mstile-70x70.png" />
<meta name="msapplication-square150x150logo" content="/assets/favico/mstile-150x150.png" />
<meta name="msapplication-wide310x150logo" content="/assets/favico/mstile-310x150.png" />
<meta name="msapplication-square310x310logo" content="/assets/favico/mstile-310x310.png" />
        <link rel="stylesheet" href="/assets/css/mos/landing.css" />
    <script>
        window.dataLayer = window.dataLayer || [];
            </script>
    <script>
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});
        var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';
        j.async=true;j.src= 'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-NFZF8MF');
    </script>


<script type="text/javascript" class="flasher-js">(function() {    var rootScript = 'https://cdn.jsdelivr.net/npm/@flasher/flasher@1.3.2/dist/flasher.min.js';    var FLASHER_FLASH_BAG_PLACE_HOLDER = {};    var options = mergeOptions([], FLASHER_FLASH_BAG_PLACE_HOLDER);    function mergeOptions(first, second) {        return {            context: merge(first.context || {}, second.context || {}),            envelopes: merge(first.envelopes || [], second.envelopes || []),            options: merge(first.options || {}, second.options || {}),            scripts: merge(first.scripts || [], second.scripts || []),            styles: merge(first.styles || [], second.styles || []),        };    }    function merge(first, second) {        if (Array.isArray(first) && Array.isArray(second)) {            return first.concat(second).filter(function(item, index, array) {                return array.indexOf(item) === index;            });        }        return Object.assign({}, first, second);    }    function renderOptions(options) {        if(!window.hasOwnProperty('flasher')) {            console.error('Flasher is not loaded');            return;        }        requestAnimationFrame(function () {            window.flasher.render(options);        });    }    function render(options) {        if ('loading' !== document.readyState) {            renderOptions(options);            return;        }        document.addEventListener('DOMContentLoaded', function() {            renderOptions(options);        });    }    if (1 === document.querySelectorAll('script.flasher-js').length) {        document.addEventListener('flasher:render', function (event) {            render(event.detail);        });            }    if (window.hasOwnProperty('flasher') || !rootScript || document.querySelector('script[src="' + rootScript + '"]')) {        render(options);    } else {        var tag = document.createElement('script');        tag.setAttribute('src', rootScript);        tag.setAttribute('type', 'text/javascript');        tag.onload = function () {            render(options);        };        document.head.appendChild(tag);    }})();</script>
</head>
<body>
<script>
        function gtmPush() {
                    }
        addEventListener("load", gtmPush);
    </script>
    <noscript>
        <iframe
            src="https://www.googletagmanager.com/ns.html?id=GTM-NFZF8MF"
            height="0"
            width="0"
            style="display:none;visibility:hidden"
        ></iframe>
    </noscript>

<!-- Preloader -->
<div id="preloader">
    <div data-loader="dual-ring"></div>
</div>
<!-- Preloader End -->

<!-- Document Wrapper
============================================= -->
<div id="main-wrapper">
    <!-- Header
    ============================================= -->
    <header id="header" style="background: #1f4da1;height: 70px;">
        <div class="container">
            <div class="header-row">
                <div class="header-column col-lg-10 offset-lg-1 pl-0 pr-0">
                    <!-- Logo
                    ============================= -->
                    <div class="logo"><a class="d-flex" href="/" title="Easy Pay Direct - Online Payments">
                            <img src="/assets/images/white-logo.png" class="client-logo" alt="Easy Pay Direct" width="260">
                        </a>
                    </div>
                    
                    <div class="merchant-support-wrapper">
                        <label class="text-white mb-0">Have Questions?</label>
                        <br>
                        <div class="merchant-support-info">
                            <a href="tel:1-800-805-4949" class="text-white">+1 (800) 805-4949</a>
                            <br>
                            <a href="mailto:ncs@easypaydirect.com" class="text-white">ncs@easypaydirect.com</a>
                        </div>
                    </div>

                </div>

            </div>
        </div>


    </header>
    <!-- Header End -->


    <!-- Content
    ============================================= -->
    <div id="content" class="py-4">
                    <div class="container">
        <div class="row">

            <!-- Middle Panel
            ============================================= -->
            <div class="col-lg-10 offset-lg-1">

                <!-- Personal Details
                    ============================================= -->
                <h1 class="text-5 font-weight-400 mb-4 text-center">
                    Sign up to start accepting credit cards
                </h1>
                <div class=" p-4 mb-2 accountInfoForm">
                    <form id="accountInfoForm" method="post">

                        <div class="row">

                            <div class="col-12 col-sm-6">
    <div class="form-group">
        <label class="mb-0" for="firstName">First Name</label>
        <input type="text" value="" class="form-control ph-mask-input"
               data-bv-field="first_name" name="first_name"
               id="firstName" required="" placeholder="First Name">
    </div>
</div>
<div class="col-12 col-sm-6">
    <div class="form-group">
        <label class="mb-0" for="lastName">Last Name</label>
        <input type="text" value="" class="form-control ph-mask-input"
               data-bv-field="lastName" name="last_name"
               id="lastName" required="" placeholder="Last Name">
    </div>
</div>
<div class="col-12">
    <div class="form-group">
        <label class="mb-0" for="email">Email Address</label>
        <input type="email" class="form-control ph-mask-input"
               data-bv-field="email" name="email"
               id="email" required="" placeholder="Your Best Email Address"
               value="" autocomplete="nope">
    </div>
</div>
<div class="col-12">
    <div class="form-group">
        <label for="phone" class="mb-0">
            Phone Number
        </label>
        <input type="tel" class="form-control owner_phone ph-mask-input"
               name="phone" required="required" inputmode="numeric"
               value="" id="phone">
        <small class="hint-text text-muted ">Your information is stored securely</small>
    </div>
</div>
                            <div class="col-sm-12 m-0 mh-0">
                                <hr class="h-line"/>
                            </div>

                            <div class="col-12 col-sm-12">
                                <div class="form-group">
                                    <label class="mb-0" for="firstName">Company Name</label>
                                    <input type="text" value="" class="form-control ph-unmask-input"
                                           data-bv-field="name" name="name"
                                           id="companyName" required="" placeholder="Company Name">
                                </div>
                            </div>

                            <div class="col-12 col-sm-12">
                                <div class="form-group">
                                    <label class="mb-0" for="website" data-toggle="tooltip" data-placement="top"
                                           title="Add a website url or social media profile url if you currently have no active website.">
                                        Company Website</label>
                                    <input type="text" value=""
                                           required
                                           data-toggle="tooltip"
                                           data-placement="top"
                                           title="Add a website url or social media profile url if you currently have no active website."
                                           class="form-control ph-unmask-input"
                                           data-bv-field="website" name="website"
                                           id="website" placeholder="Company Website" autocapitalize="none">
                                    <small class="hint-text text-muted">If unavailable, please link to your social media profile (Facebook, Instagram, etc)</small>
                                </div>
                            </div>
                            <div class="col-12 col-sm-12 country-div">
                                <div class="form-group">
                                    <label for="business_formed_in" class="mb-0">Formation Country</label>

                                    <select class="form-control custom-select country-select-filter business_country c_usa_state selectpicker custom-select-arrow custom-select-error-icon" name="country" id="business_formed_in" required data-live-search="true" data-style-base="form-control" data-style><option value selected="selected">Please Select</option><option value="1">United States</option><option value="2">Canada</option><option value="3">Puerto Rico</option><option value="4">Afghanistan</option><option value="5">Albania</option><option value="6">Algeria</option><option value="7">American Samoa</option><option value="8">Andorra</option><option value="9">Angola</option><option value="10">Anguilla</option><option value="11">Antarctica</option><option value="12">Antigua and Barbuda</option><option value="13">Argentina</option><option value="14">Armenia</option><option value="15">Aruba</option><option value="16">Australia</option><option value="17">Austria</option><option value="18">Azerbaijan</option><option value="19">Bahamas</option><option value="20">Bahrain</option><option value="21">Bangladesh</option><option value="22">Barbados</option><option value="23">Belarus</option><option value="24">Belgium</option><option value="25">Belize</option><option value="26">Benin</option><option value="27">Bermuda</option><option value="28">Bhutan</option><option value="29">Bolivia</option><option value="30">Bonaire, Sint Eustatius and Saba</option><option value="31">Bosnia and Herzegovina</option><option value="32">Botswana</option><option value="33">Bouvet Island</option><option value="34">Brazil</option><option value="35">British Indian Ocean Territory</option><option value="36">Brunei Darussalam</option><option value="37">Bulgaria</option><option value="38">Burkina Faso</option><option value="39">Burundi</option><option value="40">Cabo Verde</option><option value="41">Cambodia</option><option value="42">Cameroon</option><option value="43">Cayman Islands</option><option value="44">Central African Republic</option><option value="45">Chad</option><option value="46">Chile</option><option value="47">China</option><option value="48">Christmas Island</option><option value="49">Cocos Islands</option><option value="50">Colombia</option><option value="51">Comoros  </option><option value="52">Congo</option><option value="54">Cook Islands  </option><option value="55">Costa Rica</option><option value="56">Croatia</option><option value="57">Cuba</option><option value="58">Cura&ccedil;ao</option><option value="59">Cyprus</option><option value="60">Czechia</option><option value="61">C&ocirc;te d&#039;Ivoire</option><option value="62">Denmark</option><option value="63">Djibouti</option><option value="64">Dominica</option><option value="65">Dominican Republic</option><option value="66">Ecuador</option><option value="67">Egypt</option><option value="68">El Salvador</option><option value="69">Equatorial Guinea</option><option value="70">Eritrea</option><option value="71">Estonia</option><option value="72">Eswatini</option><option value="73">Ethiopia</option><option value="74">Falkland Islands [Malvinas]</option><option value="75">Faroe Islands</option><option value="76">Fiji</option><option value="77">Finland</option><option value="78">France</option><option value="79">French Guiana</option><option value="80">French Polynesia</option><option value="81">French Sourn Territories</option><option value="82">Gabon</option><option value="83">Gambia</option><option value="84">Georgia</option><option value="85">Germany</option><option value="86">Ghana</option><option value="87">Gibraltar</option><option value="88">Greece</option><option value="89">Greenland</option><option value="90">Grenada</option><option value="91">Guadeloupe</option><option value="92">Guam</option><option value="93">Guatemala</option><option value="94">Guernsey</option><option value="95">Guinea</option><option value="96">Guinea-Bissau</option><option value="97">Guyana</option><option value="98">Haiti</option><option value="99">Heard Island and McDonald Islands</option><option value="100">Holy See</option><option value="101">Honduras</option><option value="102">Hong Kong</option><option value="103">Hungary</option><option value="104">Iceland</option><option value="105">India</option><option value="106">Indonesia</option><option value="107">Iran</option><option value="108">Iraq</option><option value="109">Ireland</option><option value="110">Isle of Man</option><option value="111">Israel</option><option value="112">Italy</option><option value="113">Jamaica</option><option value="114">Japan</option><option value="115">Jersey</option><option value="116">Jordan</option><option value="117">Kazakhstan</option><option value="118">Kenya</option><option value="119">Kiribati</option><option value="120">North Korea</option><option value="121">South Korea</option><option value="122">Kuwait</option><option value="123">Kyrgyzstan</option><option value="124">Lao People&#039;s Democratic Republic</option><option value="125">Latvia</option><option value="126">Lebanon</option><option value="127">Lesotho</option><option value="128">Liberia</option><option value="129">Libya</option><option value="130">Liechtenstein</option><option value="131">Lithuania</option><option value="132">Luxembourg</option><option value="133">Macao</option><option value="134">Madagascar</option><option value="135">Malawi</option><option value="136">Malaysia</option><option value="137">Maldives</option><option value="138">Mali</option><option value="139">Malta</option><option value="140">Marshall Islands</option><option value="141">Martinique</option><option value="142">Mauritania</option><option value="143">Mauritius</option><option value="144">Mayotte</option><option value="145">Mexico</option><option value="146">Micronesia</option><option value="147">Moldova</option><option value="148">Monaco</option><option value="149">Mongolia</option><option value="150">Montenegro</option><option value="151">Montserrat</option><option value="152">Morocco</option><option value="153">Mozambique</option><option value="154">Myanmar</option><option value="155">Namibia</option><option value="156">Nauru</option><option value="157">Nepal</option><option value="158">Netherlands</option><option value="159">New Caledonia</option><option value="160">New Zealand</option><option value="161">Nicaragua</option><option value="162">Niger</option><option value="163">Nigeria</option><option value="164">Niue</option><option value="165">Norfolk Island</option><option value="166">Northern Mariana Islands</option><option value="167">Norway</option><option value="168">Oman</option><option value="169">Pakistan</option><option value="170">Palau</option><option value="171">Palestine, State of</option><option value="172">Panama</option><option value="173">Papua New Guinea</option><option value="174">Paraguay</option><option value="175">Peru</option><option value="176">Philippines</option><option value="177">Pitcairn</option><option value="178">Poland</option><option value="179">Portugal</option><option value="180">Qatar</option><option value="181">Republic of North Macedonia</option><option value="182">Romania</option><option value="183">Russian Federation</option><option value="184">Rwanda</option><option value="185">R&eacute;union</option><option value="186">Saint Barth&eacute;lemy</option><option value="187">Saint Helena, Ascension and Tristan da Cunha</option><option value="188">Saint Kitts and Nevis</option><option value="189">Saint Lucia</option><option value="190">Saint Martin</option><option value="191">Saint Pierre and Miquelon</option><option value="192">Saint Vincent and  Grenadines</option><option value="193">Samoa</option><option value="194">San Marino</option><option value="195">Sao Tome and Principe</option><option value="196">Saudi Arabia</option><option value="197">Senegal</option><option value="198">Serbia</option><option value="199">Seychelles</option><option value="200">Sierra Leone</option><option value="201">Singapore</option><option value="202">Sint Maarten</option><option value="203">Slovakia</option><option value="204">Slovenia</option><option value="205">Solomon Islands</option><option value="206">Somalia</option><option value="207">South Africa</option><option value="208">South Georgia and South Sandwich Islands</option><option value="209">South Sudan</option><option value="210">Spain</option><option value="211">Sri Lanka</option><option value="212">Sudan</option><option value="213">Suriname</option><option value="214">Svalbard and Jan Mayen</option><option value="215">Sweden</option><option value="216">Switzerland</option><option value="217">Syrian Arab Republic</option><option value="218">Taiwan</option><option value="219">Tajikistan</option><option value="220">Tanzania, United Republic of</option><option value="221">Thailand</option><option value="222">Timor-Leste</option><option value="223">Togo</option><option value="224">Tokelau</option><option value="225">Tonga</option><option value="226">Trinidad and Tobago</option><option value="227">Tunisia</option><option value="228">Turkey</option><option value="229">Turkmenistan</option><option value="230">Turks and Caicos Islands</option><option value="231">Tuvalu</option><option value="232">Uganda</option><option value="233">Ukraine</option><option value="234">United Arab Emirates</option><option value="235">United Kingdom</option><option value="236">United States Minor Outlying Islands</option><option value="237">Uruguay</option><option value="238">Uzbekistan</option><option value="239">Vanuatu</option><option value="240">Venezuela</option><option value="241">Viet Nam</option><option value="242">Virgin Islands</option><option value="243">Virgin Islands</option><option value="244">Wallis and Futuna</option><option value="245">Western Sahara</option><option value="246">Yemen</option><option value="247">Zambia</option><option value="248">Zimbabwe</option><option value="249">&Aring;land Islands</option></select>

                                    <small class="hint-text  text-muted">Select the country where your company is legally registered</small>
                                </div>
                            </div>
                            <div class="col-12 col-sm-12 usa_state state-div" style="display:none;">
                                <div class="form-group">
                                    <label class="mb-0" for="business_state">Formation State</label>
                                    <select class="form-control custom-select custom-select-error-icon ph-unmask-input" name="business_state" id="business_state" required data-style-base="form-control" data-style><option value selected="selected">Please Select</option><option value="AK">Alaska</option><option value="AL">Alabama</option><option value="AZ">Arizona</option><option value="AR">Arkansas</option><option value="CA">California</option><option value="CO">Colorado</option><option value="CT">Connecticut</option><option value="DE">Delaware</option><option value="DC">District of Columbia</option><option value="FL">Florida</option><option value="GA">Georgia</option><option value="HI">Hawaii</option><option value="ID">Idaho</option><option value="IL">Illinois</option><option value="IN">Indiana</option><option value="IA">Iowa</option><option value="KS">Kansas</option><option value="KY">Kentucky</option><option value="LA">Louisiana</option><option value="ME">Maine</option><option value="MD">Maryland</option><option value="MA">Massachusetts</option><option value="MI">Michigan</option><option value="MN">Minnesota</option><option value="MS">Mississippi</option><option value="MO">Missouri</option><option value="MT">Montana</option><option value="NE">Nebraska</option><option value="NV">Nevada</option><option value="NH">New Hampshire</option><option value="NJ">New Jersey</option><option value="NM">New Mexico</option><option value="NY">New York</option><option value="NC">North Carolina</option><option value="ND">North Dakota</option><option value="OH">Ohio</option><option value="OK">Oklahoma</option><option value="OR">Oregon</option><option value="PA">Pennsylvania</option><option value="RI">Rhode Island</option><option value="SC">South Carolina</option><option value="SD">South Dakota</option><option value="TN">Tennessee</option><option value="TX">Texas</option><option value="UT">Utah</option><option value="VT">Vermont</option><option value="VA">Virginia</option><option value="WA">Washington</option><option value="WV">West Virginia</option><option value="WI">Wisconsin</option><option value="WY">Wyoming</option><option value="US">United States</option></select>
                                </div>
                            </div>

                                                        <div class="col-12 col-sm-12 mt-2">
                                <div class="form-group">
                                    <label for="annual_cc_sales" data-toggle="tooltip" data-placement="top"
                                            title="Please only include the revenue  that will be processed via Credit Card Processing">
                                        Estimated Annual Sales
                                    </label>
                                    <input type="text"
                                            maxlength="16"
                                            value=""
                                            data-toggle="tooltip" data-placement="top"
                                            title="Please only include the revenue  that will be processed via Credit Card Processing"
                                            class="form-control ph-unmask-input" data-bv-field="annual_cc_sales"
                                            name="annual_sales"  inputmode="numeric"
                                            id="annual_cc_sales" required="" placeholder="1,000,000">
                                    <small class="hint-text text-muted">
                                        USD
                                    </small>
                                </div>
                            </div>
                            
                            <div class="col-sm-12 m-0 mh-0">
                                <hr class="h-line"/>
                            </div>

                            <div class="col-12">
                                <div class="form-group">
                                    <label class="mb-0" for="promo_code">Referral Code</label>
                                    <input type="text" class="form-control ph-unmask-input" name="promo_code" placeholder="Referral Code" id="promo_code" value="">
                                    <div>
                                        <small class="text-muted">Optional</small>
                                    </div>
                                    <input type="hidden" name="refid" id="refid">
                                </div>
                            </div>
                            <div class="col-12 mh-0">
                                <button class="btn btn-primary btn-block mt-2 userFormSubmitButton" type="submit">Sign Up</button>
                            </div>
                        </div>
                    </form>
                </div>
                <!-- Personal Details End -->

                <div class="row text-center">
                    <div class="col">
                        <a class="btn btn-link px-0" href="https://emap.easypaydirect.com/login">
                            Already have an account? Login here
                        </a>
                    </div>
                </div>
            </div>
        </div>

    </div>
    </div>
    <!-- Content End -->
    <!-- Footer
   ============================================= -->
    <footer id="footer">
    <div class="container">
        <div class="footer-copyright">
            <div class="col-lg-10 mx-auto">
                <div class="row">
                    <div class="col-lg-6 pl-lg-0">
                        <p class="text-center text-lg-left mb-2 mb-lg-0">Copyright Â© 2025 <a href="/" target="_blank">Easy Pay Direct</a>. All Rights Reserved.</p>
                    </div>
                    <div class="col-lg-6 pr-lg-0 d-lg-flex align-items-center justify-content-lg-end">

                        <ul class="nav justify-content-center">
                            <li class="nav-item"> <a class="nav-link" href="https://www.easypaydirect.com/privacy-policy/" target="_blank">Privacy Policy</a></li>
                        </ul><br>

                        <div class="d-flex justify-center">
                            
                                                    </div>
                    </div>

                </div>
            </div>

        </div>
    </div>
</footer>
    <!-- Footer end -->
</div>
<!-- Document Wrapper end -->

<!-- Back to Top
============================================= -->
<a id="back-to-top" data-toggle="tooltip" title="" href="javascript:void(0)" data-original-title="Back to Top"><i
        class="fa fa-chevron-up"></i></a>

<!-- Script -->
<script src="/assets/js/vendor.js"></script>
<script src="/assets/js/signup.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css"/>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/intl-tel-input@22.0.2/build/js/intlTelInput.min.js"></script>
<link rel="preload" href="https://cdn.jsdelivr.net/npm/intl-tel-input@22.0.2/build/css/intlTelInput.css" as="style" onload="this.onload=null;this.rel='stylesheet'">


    <script src="https://emap.easypaydirect.com/assets/js/dependent-fields.js"></script>
    <script type="module">
    // Add these variables at the top of your existing $(document).ready function
    let autoSaveInProgress = false;
    let isInputFocused = false; // Track if any input field is currently focused
    let hasValuesChanged = false; // Track if any values have changed since last save
    let lastSavedValues = {}; // Store last saved values to compare against
    const requiredFields = ['#firstName', '#lastName', '#email', '#phone'];

    // Add this function to trigger auto-save
    function debouncedAutoSave() {

        if (autoSaveInProgress) {
            return;
        }

        // Prevent auto-save if user is currently focused on an input field
        if (isInputFocused) {
            return;
        }

        // Prevent auto-save if no values have changed since last save
        if (!hasValuesChanged) {
            return;
        }

        if(areRequiredFieldsFilled()) {
            handleAutoSave();
        }
    }

    // Check if all required fields are filled
    function areRequiredFieldsFilled() {
        const firstName = $.trim($('#firstName').val());
        const lastName = $.trim($('#lastName').val());
        const email = $.trim($('#email').val());
        const phone = $.trim($('#phone').val());

        return firstName !== '' && lastName !== '' && email !== '' && phone !== '';
    }

    // Get current form values
    function getCurrentValues() {
        return {
            firstName: $.trim($('#firstName').val()),
            lastName: $.trim($('#lastName').val()),
            email: $.trim($('#email').val()),
            phone: $.trim($('#phone').val())
        };
    }

    // Check if current values are different from last saved values
    function checkIfValuesChanged() {
        const currentValues = getCurrentValues();

        // If no previous values stored, consider it changed if fields have content
        if (Object.keys(lastSavedValues).length === 0) {
            const hasContent = Object.values(currentValues).some(value => value !== '');
            if (hasContent) {
                hasValuesChanged = true;
                return;
            }
        }

        // Compare current values with last saved values
        hasValuesChanged = Object.keys(currentValues).some(key => {
            return currentValues[key] !== (lastSavedValues[key] || '');
        });
    }

    // Update last saved values after successful save
    function updateLastSavedValues() {
        lastSavedValues = getCurrentValues();
        hasValuesChanged = false;
    }

    function validateInputFields(){
        const accountInfoForm = $("#accountInfoForm");
        const validator = accountInfoForm.validate();

        let validationPassed = true;

        requiredFields.forEach(selector => {
            if ( !validator.element(selector)) {
                validationPassed = false;
            }
        });

        return validationPassed;
    }

    const isFromLander = 0;

    // Add this auto-save handler function
    function handleAutoSave() {
        const validatedForm = validateInputFields();
        if(isFromLander || autoSaveInProgress || !validatedForm) {
            return;
        }

        let params = {
            first_name: $("#firstName").val(),
            last_name: $("#lastName").val(),
            email: $("#email").val(),
            phone: $("#phone").val()
        };
        params.partner_id = '';

        var urlParams = new window.URLSearchParams(window.location.search);
        if (urlParams.has('partnerId')) {
            params.partner_id = urlParams.get('partnerId')
        }

                    params.utm_tracking = '[]';
        
        
        autoSaveInProgress = true;
        $.ajax({
            url: "/signup/auto-save",
            type: "POST",
            headers: {
                'X-CSRF-TOKEN': "hngUDbi1XkKuhi1LeCUQGydc8k2EZa8PjpL5i4bq",
            },
            data: params,
            success: function () {
                updateLastSavedValues(); // Update stored values after successful save
            },
            error: function (error) {
                if(error.status === 400 || error.status === 500) {
                    updateLastSavedValues();
                }
                autoSaveInProgress = false;
            },
            complete: function () {
                autoSaveInProgress = false;
            }
        });
    }

    // Event handlers for input changes
    requiredFields.forEach(selector => {
        // Focus event - set flag when user focuses on input
        $(selector).on('focus', function() {
            isInputFocused = true;
        });

        // Blur event - clear flag, check for changes, and trigger auto-save after a delay
        $(selector).on('blur', function() {
            isInputFocused = false;

            // Check if values have changed
            checkIfValuesChanged();

            // Trigger auto-save after blur with a longer delay to ensure focus state is updated
            debouncedAutoSave()
        });
    });

    // Initialize last saved values on page load
    $(document).ready(function() {
        updateLastSavedValues();
    });
</script>
    <script type="module">
    document.addEventListener('DOMContentLoaded', function() {
        new DependentFields({
            rules: [
                {
                    trigger: '#business_formed_in',
                    target: '#business_state',
                    targetWrapper: '.usa_state',
                    value: '1', // '1' is for United States
                    message: 'Required because your Formation Country is the United States.'
                }
            ]
        });
    });

    $(document).ready(function () {
        let isFormValidatedAtLeastOnce = false;

        $.validator.setDefaults({
            errorElement: 'span',
            errorPlacement: function (error, element) {
                error.addClass('invalid-feedback');
                const $formGroup = element.closest('.form-group');
                $formGroup.find('.invalid-feedback').remove();
                $formGroup.append(error);
            },
            highlight: function (element, errorClass, validClass) {
                $(element).addClass('is-invalid');
                $(element).closest('.form-group').find('.hint-text').hide();
                if ($(element).parent('div').hasClass('dropdown')) {
                    $(element).parent('div').next('.hint-text').hide();
                }
            },
            unhighlight: function (element, errorClass, validClass) {
                $(element).removeClass('is-invalid');
                $(element).closest('.form-group').find('.hint-text').show();
                if ($(element).parent('div').hasClass('dropdown')) {
                    $(element).parent('div').next('.hint-text').show();
                }
            },
        });

        $('.business_country').on('change', function() {

            if(isFormValidatedAtLeastOnce){
                $(this).valid();
            }

            $(".usa_state").hide();
            if (this.value === "1") {
                $(".usa_state").show();
            }
        });

        jQuery.validator.addMethod("validate_email", function(value, element) {
            return /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(value);
        }, "Please enter a valid Email.");

        jQuery.validator.addMethod("ValidateAnnualSales", function(value, element) {
                        // Remove commas and whitespace for validation
            var cleanValue = value.replace(/,/g, '').trim();
            return cleanValue.length <= 12;
                    }, "Annual sales must not exceed $999,999,999,999");
        

        $.validator.addMethod('validUrl', function (value, element) {
            var re = /^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[A-Za-z0-9]+([\-\.]{1}[A-Za-z0-9]+)*\.[A-Za-z]{2,6}(:[0-9]{1,5})?(\/.*)?$/;
            return re.test(value);
        }, 'Please enter a valid URL');

        jQuery.validator.addMethod("required", function(value, element) {
            return $.trim(value) ;
        })

        if ($('#annual_cc_sales').length > 0) {
            new Cleave('#annual_cc_sales', {
                numeral: true,
                numeralThousandsGroupStyle: 'thousand',
                numeralDecimalScale: 0,
                numeralPositiveOnly: true
            });
        }

        $("#accountInfoForm").validate({
            rules: {
                name : {
                    required: true,
                    maxlength: 60
                },
                first_name : {
                    required: true,
                    maxlength: 60
                },
                last_name : {
                    required: true,
                    maxlength: 60
                },
                website: {
                    required: true,
                    validUrl: true,
                },
                phone: {
                    required: true,
                    validatePhone: true,
                },
                annual_sales: {
                    required: true,
                    ValidateAnnualSales: true
                },
                
            },
            messages: {
                annual_sales: {
                    maxlength: "Annual sales must not exceed $999,999,999,999",
                }
            },
            invalidHandler: function() {
                // This runs BEFORE submitHandler when validation fails
                isFormValidatedAtLeastOnce = true;
            },
            submitHandler: function (form) {
                var $inputs = $('#accountInfoForm :input');
                var values = {};
                $inputs.each(function () {
                    values[this.name] = $(this).val();
                });
                values['step_count'] = 1;
                values['phone'] = iti.getNumber();
                $(':input[type="submit"]').prop('disabled', true);
                $("#preloader").show()
                $('#preloader').css('opacity', '0.6');
                // Assign partner id if in Session
                values['link_visit_id'] = '';
                values['partner_id'] = '';
                                    values['utm_tracking'] = '[]';
                
                var params = new window.URLSearchParams(window.location.search);
                if (params.has('partnerId')) {
                    values['partner_id'] = params.get('partnerId')
                }

                if (params.has('linkVisitId')) {
                    values['link_visit_id'] = params.get('linkVisitId')
                }
                values['from_lander'] = 0;

                

                $.ajax({
                    url: "/signup/user",
                    type: "POST",
                    headers: {
                        'X-CSRF-TOKEN': "hngUDbi1XkKuhi1LeCUQGydc8k2EZa8PjpL5i4bq",
                    },
                    data: values,
                    success: function (response) {
                        window.dataLayer = window.dataLayer || [];
                        window.dataLayer.push({
                            'event': 'Step1Submitted' // [Should be changed on every step IE: Step2Submitted ]
                        });

                        if(response.message === 'Unauthorised access.') {
                            window.location.href = '/signup';
                            return;
                        }

                        toastr.success('Saved successfully');

                        if(response.companyExist){
                            window.location.href = response.url;
                            return
                        }

                        if(response.verificationLink){
                            window.location.href = response.url;
                            return
                        }
                        window.location.href = "/step/2/" + response.uuid;
                    },
                    error: function (error) {
                        if(error.responseJSON && error.responseJSON.data) {
                            return toastr.error(error.responseJSON.data);
                        }

                        if(error.status === 419) {
                            return toastr.error('Your session has timed out. Please refresh the page and try again.');
                        }

                        $.each(error.responseJSON.errors, function (i, error) {
                            toastr.error(error);
                        });
                    },
                    complete: function () {
                        $("#preloader").hide()
                        $('#preloader').css('opacity', '0');
                        $(':input[type="submit"]').prop('disabled', false);
                    }
                });
            }
        });

        var input = document.querySelector("#phone");
        var iti = window.intlTelInput(input, {
            initialCountry: "us",
            countryOrder: ['us', 'ca'],
            utilsScript: "https://cdn.jsdelivr.net/npm/intl-tel-input@22.0.2/build/js/utils.js",
        });
        jQuery.validator.addMethod('validatePhone', function () {
            return iti.isValidNumber()
        }, "Please enter a valid phone number.");

        
        $(window).keydown(function (event) {
            if (event.keyCode == 13) {
                event.preventDefault();
                return false;
            }
        });
        
        // Autosave the first step
        
    });

    function autoSave() {
        var $inputs = $('#accountInfoForm :input');
        var values = {};
        $inputs.each(function () {
            values[this.name] = $(this).val();
        });

                                                        values['marketingModel'] = [];
                    values['have_recurring'] = (values['marketingModel'] || []).includes("2") ? 1 : 0;

        values['step_count'] = 1;
        values['from_lander'] = 1;
        $(':input[type="submit"]').prop('disabled', true);
        values['link_visit_id'] = '';
        values['partner_id'] = '';
        var params = new window.URLSearchParams(window.location.search);
        if (params.has('partnerId')) {
            values['partner_id'] = params.get('partnerId')
        }

        if (params.has('linkVisitId')) {
            values['link_visit_id'] = params.get('linkVisitId')
        }
        
            
        $.ajax({
            url: "/signup/user",
            type: "POST",
            headers: {
                'X-CSRF-TOKEN': "hngUDbi1XkKuhi1LeCUQGydc8k2EZa8PjpL5i4bq",
            },
            data: values,
            success: function (response) {
                window.dataLayer = window.dataLayer || [];
                window.dataLayer.push({
                    'event': 'Step1Submitted' // [Should be changed on every step IE: Step2Submitted ]
                });

                toastr.success('Saved successfully');
                if(response.companyExist){
                    window.location.href = response.url;
                    return
                }

                if(response.verificationLink){
                    window.location.href = response.url;
                    return
                }
                window.location.href = "/step/2/" + response.uuid;
            },
            error: function (error) {
                $("#preloader").hide()
                if(error.responseJSON && error.responseJSON.data) {
                    toastr.error(error.responseJSON.data);
                    return
                }

                $.each(error.responseJSON.errors, function (i, error) {
                    toastr.error(error);
                });
            },
            complete: function () {
                $(':input[type="submit"]').prop('disabled', false);
            }
        })
    }

</script>


<script async>
    window.fbAsyncInit = function() {
        FB.init({
            appId      : '2543873612518965',
            cookie     : true,
            xfbml      : true,
            version    : 'v7.0'
        });
        FB.AppEvents.logPageView();
    };

    (function(d, s, id){
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) {return;}
        js = d.createElement(s); js.id = id;
        js.src = "https://connect.facebook.net/en_US/sdk.js";
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
</script>
<script src="//rum-static.pingdom.net/pa-5f400af28e83fa0015000934.js" async></script>
</body>
</html>
